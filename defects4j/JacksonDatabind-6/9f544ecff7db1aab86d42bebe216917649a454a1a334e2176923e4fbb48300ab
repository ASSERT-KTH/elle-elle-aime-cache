{
    "generation": "private String standardizeISO8601(String dateStr) {\n    int len = dateStr.length();\n    if (len == 0) {\n        return dateStr;\n    }\n    char lastChar = dateStr.charAt(len - 1);\n    if (lastChar == 'Z') {\n        // Handle 'Z' case\n        int fracIndex = dateStr.lastIndexOf('.');\n        if (fracIndex != -1) {\n            int fracLen = len - fracIndex - 1;\n            if (fracLen < 4) { // including the dot\n                dateStr = dateStr.substring(0, fracIndex + 4); // keep up to 3 digits after dot\n            }\n        } else {\n            dateStr += \".000\";\n        }\n        return dateStr;\n    } else {\n        // Handle timezone offset\n        int tzIndex = dateStr.lastIndexOf('+');\n        if (tzIndex == -1) {\n            tzIndex = dateStr.lastIndexOf('-');\n        }\n        if (tzIndex != -1) {\n            // Remove colon in timezone if present\n            if (len - tzIndex - 1 == 6 && dateStr.charAt(tzIndex + 3) == ':') {\n                dateStr = dateStr.substring(0, tzIndex + 3) + dateStr.substring(tzIndex + 4);\n            }\n            // Ensure fractional seconds are present and have three digits\n            int fracIndex = dateStr.lastIndexOf('.');\n            if (fracIndex != -1) {\n                int fracLen = tzIndex - fracIndex - 1;\n                if (fracLen < 3) {\n                    dateStr = dateStr.substring(0, fracIndex + 4); // keep up to 3 digits after dot\n                }\n            } else {\n                dateStr = dateStr.substring(0, tzIndex) + \".000\" + dateStr.substring(tzIndex);\n            }\n            return dateStr;\n        } else {\n            // No timezone specified, assume UTC and append 'Z'\n            int fracIndex = dateStr.lastIndexOf('.');\n            if (fracIndex != -1) {\n                int fracLen = len - fracIndex - 1;\n                if (fracLen < 4) { // including the dot\n                    dateStr = dateStr.substring(0, fracIndex + 4); // keep up to 3 digits after dot\n                }\n            } else {\n                dateStr += \".000\";\n            }\n            dateStr += 'Z';\n            return dateStr;\n        }\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}