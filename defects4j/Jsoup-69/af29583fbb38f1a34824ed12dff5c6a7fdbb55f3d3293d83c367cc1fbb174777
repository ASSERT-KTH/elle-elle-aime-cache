{
    "generation": "/**\n * Recompute and return the form's submitted data key/value pairs.\n * \n * @return list of key/value pairs to be submitted\n */\npublic List<Connection.KeyVal> formData() {\n    List<Connection.KeyVal> data = new ArrayList<>();\n    for (Element input : select(\"input, select, textarea\")) {\n        if (!input.tagName().equals(\"input\") ||!input.attr(\"type\").equals(\"reset\") \n            &&!input.attr(\"type\").equals(\"button\") &&!input.attr(\"type\").equals(\"image\")\n            &&!input.attr(\"disabled\").equals(\"disabled\")) {\n            String name = input.attr(\"name\");\n            if (!name.isEmpty()) { // check if name is not empty\n                if (input.tagName().equals(\"input\") && input.attr(\"type\").equals(\"checkbox\") \n                    &&!input.hasAttr(\"checked\")) {\n                    continue;\n                }\n                if (input.tagName().equals(\"input\") && input.attr(\"type\").equals(\"radio\") \n                    &&!input.hasAttr(\"checked\")) {\n                    continue;\n                }\n                String value = input.attr(\"value\");\n                if (input.tagName().equals(\"textarea\")) {\n                    value = input.text(); // for textarea, use text() instead of attr(\"value\")\n                } else if (input.tagName().equals(\"select\")) {\n                    // handle select element differently\n                    for (Element option : input.select(\"option[selected]\")) {\n                        data.add(new Connection.KeyVal(name, option.attr(\"value\")));\n                    }\n                    // if no option is selected, use the first option with a value\n                    if (data.stream().noneMatch(kv -> kv.key().equals(name))) {\n                        for (Element option : input.select(\"option\")) {\n                            if (!option.attr(\"value\").isEmpty()) {\n                                data.add(new Connection.KeyVal(name, option.attr(\"value\")));\n                                break;\n                            }\n                        }\n                    }\n                } else {\n                    data.add(new Connection.KeyVal(name, value));\n                }\n            }\n        }\n    }\n    // Filter out removed elements\n    data.removeIf(kv ->!this.selectFirst(\"input[name=\" + kv.key() + \"], select[name=\" + kv.key() + \"], textarea[name=\" + kv.key() + \"]\").isPresent());\n    return data;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}