{
    "generation": "public class FormElement extends Element {\n    private org.jsoup.select.Elements elements;\n\n    public FormElement(Tag tag, String baseUri, Attributes attributes) {\n        super(tag, baseUri, attributes);\n        elements = new org.jsoup.select.Elements();\n    }\n\n    public List<Connection.KeyVal> formData() {\n        ArrayList<Connection.KeyVal> data = new ArrayList<>();\n\n        // Iterate over all form control elements\n        for (Element element : elements) {\n            if (element.tag().isFormSubmittable() && element.hasAttr(\"name\")) {\n                String name = element.attr(\"name\");\n                if (name.length() > 0) {\n                    if (\"select\".equals(element.tagName())) {\n                        Elements options = element.select(\"option[selected]\");\n                        boolean set = false;\n                        for (Element option : options) {\n                            data.add(HttpConnection.KeyVal.create(name, option.val()));\n                            set = true;\n                        }\n                        if (!set) {\n                            Element option = element.selectFirst(\"option\");\n                            if (option != null)\n                                data.add(HttpConnection.KeyVal.create(name, option.val()));\n                        }\n                    } else if (\"checkbox\".equalsIgnoreCase(element.attr(\"type\")) || \"radio\".equalsIgnoreCase(element.attr(\"type\"))) {\n                        if (element.hasAttr(\"checked\")) {\n                            final String val = element.val().length() > 0 ? element.val() : \"on\";\n                            data.add(HttpConnection.KeyVal.create(name, val));\n                        }\n                    } else {\n                        data.add(HttpConnection.KeyVal.create(name, element.val()));\n                    }\n                }\n            }\n        }\n\n        return data;\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}