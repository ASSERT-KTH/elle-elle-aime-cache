{
    "generation": "public static String random(int count, int start, int end, boolean letters, boolean numbers,\n                            char[] chars, Random random) {\n    if (count < 0) {\n        throw new IllegalArgumentException(\"Requested random string length \" + count + \" is less than 0.\");\n    }\n\n    if (chars!= null && chars.length == 0) {\n        throw new IllegalArgumentException(\"Provided char array is empty.\");\n    }\n\n    if (start == 0 && end == 0) {\n        if (!letters &&!numbers) {\n            start = 0;\n            end = Integer.MAX_VALUE;\n        } else {\n            start = ' ';\n            end = 'z' + 1;\n        }\n    }\n\n    if (chars == null) {\n        if (!letters &&!numbers) {\n            // choose any character\n            chars = new char[end - start];\n            for (int i = 0; i < chars.length; i++) {\n                chars[i] = (char) (start + i);\n            }\n        } else {\n            // choose letters or digits\n            StringBuilder sb = new StringBuilder();\n            if (letters) {\n                for (char c = 'a'; c <= 'z'; c++) {\n                    sb.append(c);\n                }\n                for (char c = 'A'; c <= 'Z'; c++) {\n                    sb.append(c);\n                }\n            }\n            if (numbers) {\n                for (char c = '0'; c <= '9'; c++) {\n                    sb.append(c);\n                }\n            }\n            chars = sb.toString().toCharArray();\n        }\n    }\n\n    char[] buffer = new char[count];\n    int gap = chars.length;\n\n    while (count--!= 0) {\n        char ch = chars[random.nextInt(gap)];\n        if (letters && Character.isLetter(ch)\n                || numbers && Character.isDigit(ch)\n                ||!letters &&!numbers) {\n            if (ch >= 56320 && ch <= 57343) {\n                if (count == 0) {\n                    count++;\n                } else {\n                    buffer[count] = ch;\n                    count--;\n                    buffer[count] = (char) (55296 + random.nextInt(128));\n                }\n            } else if (ch >= 55296 && ch <= 56191) {\n                if (count == 0) {\n                    count++;\n                } else {\n                    buffer[count] = (char) (56320 + random.nextInt(128));\n                    count--;\n                    buffer[count] = ch;\n                }\n            } else if (ch >= 56192 && ch <= 56319) {\n                count++;\n            } else {\n                buffer[count] = ch;\n            }\n        } else {\n            count++;\n        }\n    }\n    return new String(buffer);\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": false
}