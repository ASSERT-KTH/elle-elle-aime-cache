{
    "generation": "import org.w3c.dom.*;\n\npublic class NamespaceUtils {\n\n    /**\n     * Get the ns uri of the specified node.\n     * @param node Node to check\n     * @return String ns uri\n     */\n    public static String getNamespaceURI(Node node) {\n        if (node instanceof Document) {\n            node = ((Document) node).getDocumentElement();\n        }\n\n        if (!(node instanceof Element)) {\n            return null;\n        }\n\n        Element element = (Element) node;\n\n        String uri = element.getNamespaceURI();\n        if (uri != null) {\n            return uri;\n        }\n\n        String prefix = element.getPrefix();\n        if (prefix == null) {\n            // Handle default namespace\n            return getDeclaredNamespaceURI(element, \"\");\n        } else {\n            return getDeclaredNamespaceURI(element, prefix);\n        }\n    }\n\n    private static String getDeclaredNamespaceURI(Element element, String prefix) {\n        Node current = element;\n        while (current != null) {\n            if (current.getNodeType() == Node.ELEMENT_NODE) {\n                String namespaceURI = getNamespaceURIFromAttributes((Element) current, prefix);\n                if (namespaceURI != null) {\n                    return namespaceURI;\n                }\n            }\n            current = current.getParentNode();\n        }\n        return null;\n    }\n\n    private static String getNamespaceURIFromAttributes(Element element, String prefix) {\n        NamedNodeMap attrs = element.getAttributes();\n        for (int i = 0; i < attrs.getLength(); i++) {\n            Attr attr = (Attr) attrs.item(i);\n            if (attr.getLocalName().equals(\"xmlns\")) {\n                if (prefix == null || prefix.isEmpty()) {\n                    return attr.getValue();\n                }\n            } else if (attr.getPrefix().equals(\"xmlns\")) {\n                String declaredPrefix = attr.getLocalName();\n                if (declaredPrefix.equals(prefix)) {\n                    return attr.getValue();\n                }\n            }\n        }\n        return null;\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}