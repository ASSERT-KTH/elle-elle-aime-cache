{
    "generation": "public SortedMap<K, V> prefixMap(K prefix) {\n    if (prefix == null) {\n        throw new NullPointerException(\"Prefix cannot be null\");\n    }\n    \n    return new PrefixRangeMap(prefix);\n}\n\nprivate final class PrefixRangeMap extends AbstractSortedMap<K, V> {\n    private final K prefix;\n    private transient Set<Map.Entry<K, V>> entrySet;\n\n    PrefixRangeMap(K prefix) {\n        this.prefix = prefix;\n    }\n\n    @Override\n    public void clear() {\n        Iterator<Map.Entry<K, V>> it = entrySet().iterator();\n        while (it.hasNext()) {\n            it.next();\n            it.remove();\n        }\n    }\n\n    @Override\n    public Set<Map.Entry<K, V>> entrySet() {\n        if (entrySet == null) {\n            entrySet = new EntrySet();\n        }\n        return entrySet;\n    }\n\n    private final class EntrySet extends AbstractSet<Map.Entry<K, V>> {\n        @Override\n        public Iterator<Map.Entry<K, V>> iterator() {\n            return new EntryIterator(prefix);\n        }\n\n        @Override\n        public int size() {\n            int size = 0;\n            Iterator<Map.Entry<K, V>> it = iterator();\n            while (it.hasNext()) {\n                it.next();\n                size++;\n            }\n            return size;\n        }\n\n        @Override\n        public boolean remove(Object o) {\n            if (!(o instanceof Map.Entry)) {\n                return false;\n            }\n            Map.Entry<?, ?> entry = (Map.Entry<?, ?>) o;\n            K key = (K) entry.getKey();\n            if (key != null && key.toString().startsWith(prefix.toString())) {\n                PatriciaTrie.this.remove(key);\n                return true;\n            }\n            return false;\n        }\n    }\n\n    private final class EntryIterator implements Iterator<Map.Entry<K, V>> {\n        private final Iterator<Map.Entry<K, V>> delegate;\n\n        EntryIterator(K prefix) {\n            this.delegate = PatriciaTrie.this.entrySet().iterator();\n        }\n\n        @Override\n        public boolean hasNext() {\n            return delegate.hasNext();\n        }\n\n        @Override\n        public Map.Entry<K, V> next() {\n            return delegate.next();\n        }\n\n        @Override\n        public void remove() {\n            delegate.remove();\n        }\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}