{
    "generation": "public Range getDataRange(ValueAxis axis) {\n\n    Range result = null;\n    List<XYDataset> mappedDatasets = new ArrayList<>();\n    List<XYAnnotation> includedAnnotations = new ArrayList<>();\n    boolean isDomainAxis = false;\n\n    // is it a domain axis?\n    int domainIndex = getDomainAxisIndex(axis);\n    if (domainIndex >= 0) {\n        isDomainAxis = true;\n        mappedDatasets.addAll(getDatasetsMappedToDomainAxis(domainIndex));\n        if (domainIndex == 0) {\n            includedAnnotations.addAll(getAnnotationsForDomainAxis(0));\n        }\n    }\n\n    // or is it a range axis?\n    int rangeIndex = getRangeAxisIndex(axis);\n    if (rangeIndex >= 0) {\n        isDomainAxis = false;\n        mappedDatasets.addAll(getDatasetsMappedToRangeAxis(rangeIndex));\n        if (rangeIndex == 0) {\n            includedAnnotations.addAll(getAnnotationsForRangeAxis(0));\n        }\n    }\n\n    // Calculate the union of the ranges for the mapped datasets\n    for (XYDataset dataset : mappedDatasets) {\n        if (dataset != null) {\n            XYItemRenderer renderer = getRendererForDataset(dataset);\n            Range bounds;\n            if (isDomainAxis) {\n                bounds = renderer != null ? renderer.findDomainBounds(dataset) : DatasetUtilities.findDomainBounds(dataset);\n            }\n            else {\n                bounds = renderer != null ? renderer.findRangeBounds(dataset) : DatasetUtilities.findRangeBounds(dataset);\n            }\n            // Avoid adding a null range\n            if (bounds != null) {\n                result = result == null ? bounds : Range.combine(result, bounds);\n            }\n\n            // Add annotations for the dataset to the included annotations list\n            if (renderer != null) {\n                Collection<XYAnnotation> annotations = renderer.getAnnotations();\n                for (XYAnnotation annotation : annotations) {\n                    if (annotation instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add(annotation);\n                    }\n                }\n            }\n        }\n    }\n\n    // Calculate the union of the ranges for the included annotations\n    for (XYAnnotation annotation : includedAnnotations) {\n        if (annotation instanceof XYAnnotationBoundsInfo\n                && ((XYAnnotationBoundsInfo) annotation).getIncludeInDataBounds()) {\n            Range bounds = isDomainAxis ? ((XYAnnotationBoundsInfo) annotation).getXRange()\n                                        : ((XYAnnotationBoundsInfo) annotation).getYRange();\n            // Avoid adding a null range\n            if (bounds != null) {\n                result = result == null ? bounds : Range.combine(result, bounds);\n            }\n        }\n    }\n\n    return result;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}