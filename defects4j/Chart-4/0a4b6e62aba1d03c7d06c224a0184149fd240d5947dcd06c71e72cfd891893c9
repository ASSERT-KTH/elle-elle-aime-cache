{
    "generation": "    /**\n     * Returns the range for the specified axis.\n     *\n     * @param axis  the axis.\n     *\n     * @return The range.\n     */\n    public Range getDataRange(ValueAxis axis) {\n\n        if (axis == null) {\n            return null; // Handle null input gracefully\n        }\n\n        Range result = null;\n        List<XYDataset> mappedDatasets = new ArrayList<>();\n        List<XYAnnotationBoundsInfo> includedAnnotations = new ArrayList<>();\n        boolean isDomainAxis = true;\n\n        // Check if it's a domain axis\n        int domainIndex = getDomainAxisIndex(axis);\n        if (domainIndex >= 0) {\n            isDomainAxis = true;\n            mappedDatasets.addAll(getDatasetsMappedToDomainAxis(domainIndex));\n            if (domainIndex == 0) {\n                // Collect the plot's annotations\n                for (Object obj : this.annotations) {\n                    if (obj instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add((XYAnnotationBoundsInfo) obj);\n                    }\n                }\n            }\n        }\n\n        // Check if it's a range axis\n        int rangeIndex = getRangeAxisIndex(axis);\n        if (rangeIndex >= 0) {\n            isDomainAxis = false;\n            mappedDatasets.addAll(getDatasetsMappedToRangeAxis(rangeIndex));\n            if (rangeIndex == 0) {\n                for (Object obj : this.annotations) {\n                    if (obj instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add((XYAnnotationBoundsInfo) obj);\n                    }\n                }\n            }\n        }\n\n        // Process datasets mapped to this axis\n        for (XYDataset dataset : mappedDatasets) {\n            if (dataset != null) {\n                XYItemRenderer renderer = getRendererForDataset(dataset);\n                if (isDomainAxis) {\n                    if (renderer != null) {\n                        result = Range.combine(result, renderer.findDomainBounds(dataset));\n                    } else {\n                        result = Range.combine(result, DatasetUtilities.findDomainBounds(dataset));\n                    }\n                } else {\n                    if (renderer != null) {\n                        result = Range.combine(result, renderer.findRangeBounds(dataset));\n                    } else {\n                        result = Range.combine(result, DatasetUtilities.findRangeBounds(dataset));\n                    }\n                }\n\n                // Collect annotations from the renderer\n                if (renderer != null) {\n                    Collection<XYAnnotation> annotations = renderer.getAnnotations();\n                    for (XYAnnotation annotation : annotations) {\n                        if (annotation instanceof XYAnnotationBoundsInfo) {\n                            includedAnnotations.add((XYAnnotationBoundsInfo) annotation);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Process annotations for range updates\n        for (XYAnnotationBoundsInfo annotationInfo : includedAnnotations) {\n            if (annotationInfo.getIncludeInDataBounds()) {\n                if (isDomainAxis) {\n                    result = Range.combine(result, annotationInfo.getXRange());\n                } else {\n                    result = Range.combine(result, annotationInfo.getYRange());\n                }\n            }\n        }\n\n        return result;\n    }",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}