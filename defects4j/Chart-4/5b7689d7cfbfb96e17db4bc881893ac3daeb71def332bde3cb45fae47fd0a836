{
    "generation": "/**\n * Returns the range for the specified axis.\n *\n * @param axis  the axis.\n *\n * @return The range.\n */\npublic Range getDataRange(ValueAxis axis) {\n\n    Range result = null;\n    List<XYDataset> mappedDatasets = new ArrayList<>();\n    List<XYAnnotationBoundsInfo> includedAnnotations = new ArrayList<>();\n    boolean isDomainAxis = true;\n\n    // is it a domain axis?\n    int domainIndex = getDomainAxisIndex(axis);\n    if (domainIndex >= 0) {\n        isDomainAxis = true;\n        mappedDatasets.addAll(getDatasetsMappedToDomainAxis(domainIndex));\n        if (domainIndex == 0) {\n            // grab the plot's annotations\n            if (this.annotations != null) {\n                for (XYAnnotation annotation : this.annotations) {\n                    if (annotation instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add((XYAnnotationBoundsInfo) annotation);\n                    }\n                }\n            }\n        }\n    }\n\n    // or is it a range axis?\n    int rangeIndex = getRangeAxisIndex(axis);\n    if (rangeIndex >= 0) {\n        isDomainAxis = false;\n        mappedDatasets.addAll(getDatasetsMappedToRangeAxis(rangeIndex));\n        if (rangeIndex == 0) {\n            if (this.annotations != null) {\n                for (XYAnnotation annotation : this.annotations) {\n                    if (annotation instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add((XYAnnotationBoundsInfo) annotation);\n                    }\n                }\n            }\n        }\n    }\n\n    // iterate through the datasets that map to the axis and get the union\n    // of the ranges.\n    for (XYDataset d : mappedDatasets) {\n        if (d != null) {\n            XYItemRenderer r = getRendererForDataset(d);\n            if (isDomainAxis) {\n                Range domainBounds = (r != null) ? r.findDomainBounds(d) : DatasetUtilities.findDomainBounds(d);\n                result = Range.combine(result, domainBounds);\n            } else {\n                Range rangeBounds = (r != null) ? r.findRangeBounds(d) : DatasetUtilities.findRangeBounds(d);\n                result = Range.combine(result, rangeBounds);\n            }\n            \n            if (r != null) {\n                Collection c = r.getAnnotations();\n                if (c != null) {\n                    for (Object o : c) {\n                        if (o instanceof XYAnnotation) {\n                            XYAnnotation a = (XYAnnotation) o;\n                            if (a instanceof XYAnnotationBoundsInfo) {\n                                includedAnnotations.add((XYAnnotationBoundsInfo) a);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // Process included annotations\n    for (XYAnnotationBoundsInfo xyabi : includedAnnotations) {\n        if (xyabi != null && xyabi.getIncludeInDataBounds()) {\n            if (isDomainAxis) {\n                result = Range.combine(result, xyabi.getXRange());\n            } else {\n                result = Range.combine(result, xyabi.getYRange());\n            }\n        }\n    }\n\n    return result;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}