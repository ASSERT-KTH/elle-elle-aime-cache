{
    "generation": "public Range getDataRange(ValueAxis axis) {\n\n    Range result = null;\n    List<XYDataset> mappedDatasets = new ArrayList<>();\n    List<XYAnnotation> includedAnnotations = new ArrayList<>();\n    boolean isDomainAxis = true;\n\n    int domainIndex = getDomainAxisIndex(axis);\n    if (domainIndex >= 0) {\n        isDomainAxis = true;\n        mappedDatasets.addAll(getDatasetsMappedToDomainAxis(domainIndex));\n        if (domainIndex == 0) {\n            includedAnnotations.addAll(getAnnotationsForDomain(0));\n        }\n    }\n\n    int rangeIndex = getRangeAxisIndex(axis);\n    if (rangeIndex >= 0) {\n        isDomainAxis = false;\n        mappedDatasets.addAll(getDatasetsMappedToRangeAxis(rangeIndex));\n        if (rangeIndex == 0) {\n            includedAnnotations.addAll(getAnnotationsForRange(0));\n        }\n    }\n\n    if (mappedDatasets.isEmpty()) {\n        return null;\n    }\n\n    for (XYDataset d : mappedDatasets) {\n        XYItemRenderer r = getRendererForDataset(d);\n        if (isDomainAxis) {\n            result = Range.combine(result, findDomainRange(r, d));\n        } else {\n            result = Range.combine(result, findRangeRange(r, d));\n        }\n    }\n\n    for (XYAnnotation a : includedAnnotations) {\n        if (a instanceof XYAnnotationBoundsInfo) {\n            XYAnnotationBoundsInfo xyabi = (XYAnnotationBoundsInfo) a;\n            if (xyabi.getIncludeInDataBounds()) {\n                result = Range.combine(result, getXYAnnotationRange(xyabi, isDomainAxis));\n            }\n        }\n    }\n\n    return result;\n}\n\nprivate Range findDomainRange(XYItemRenderer r, XYDataset d) {\n    if (r != null) {\n        return r.findDomainBounds(d);\n    } else {\n        return DatasetUtilities.findDomainBounds(d);\n    }\n}\n\nprivate Range findRangeRange(XYItemRenderer r, XYDataset d) {\n    if (r != null) {\n        return r.findRangeBounds(d);\n    } else {\n        return DatasetUtilities.findRangeBounds(d);\n    }\n}\n\nprivate List<XYAnnotation> getAnnotationsForDomain(int index) {\n    List<XYAnnotation> annotationsForDomain = new ArrayList<>();\n    Iterator<XYAnnotation> iterator = this.annotations.iterator();\n    while (iterator.hasNext()) {\n        XYAnnotation annotation = iterator.next();\n        if (annotation instanceof XYAnnotationBoundsInfo && ((XYAnnotationBoundsInfo) annotation).getDomainAxisIndex() == index) {\n            annotationsForDomain.add(annotation);\n        }\n    }\n    return annotationsForDomain;\n}\n\nprivate List<XYAnnotation> getAnnotationsForRange(int index) {\n    List<XYAnnotation> annotationsForRange = new ArrayList<>();\n    Iterator<XYAnnotation> iterator = this.annotations.iterator();\n    while (iterator.hasNext()) {\n        XYAnnotation annotation = iterator.next();\n        if (annotation instanceof XYAnnotationBoundsInfo && ((XYAnnotationBoundsInfo) annotation).getRangeAxisIndex() == index) {\n            annotationsForRange.add(annotation);\n        }\n    }\n    return annotationsForRange;\n}\n\nprivate Range getXYAnnotationRange(XYAnnotationBoundsInfo xyabi, boolean isDomainAxis) {\n    if (isDomainAxis) {\n        return xyabi.getXRange();\n    } else {\n        return xyabi.getYRange();\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}