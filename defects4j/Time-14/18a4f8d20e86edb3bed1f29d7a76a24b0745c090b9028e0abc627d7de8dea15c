{
    "generation": "    //-----------------------------------------------------------------------\n    public int[] add(ReadablePartial partial, int fieldIndex, int[] values, int valueToAdd) {\n        if (valueToAdd == 0) {\n            return values;\n        }\n        if (DateTimeUtils.isContiguous(partial)) {\n            long instant = 0L;\n            for (int i = 0, isize = partial.size(); i < isize; i++) {\n                instant = partial.getFieldType(i).getField(iChronology).set(instant, values[i]);\n            }\n            long newInstant = add(instant, valueToAdd, fieldIndex);\n            return iChronology.get(partial, newInstant);\n        } else {\n            return super.add(partial, fieldIndex, values, valueToAdd);\n        }\n    }\n\n    private long add(long instant, int valueToAdd, int fieldIndex) {\n        long result = instant;\n        DateTimeField field = getField(fieldIndex);\n        if (fieldIndex == 0) { // Month\n            int monthsToAdd = valueToAdd;\n            while (monthsToAdd != 0) {\n                result = field.add(result,monthsToAdd > 0 ? 1 : -1);\n                monthsToAdd += monthsToAdd > 0 ? -1 : 1;\n            }\n            // Adjust day of month if necessary\n            DateTimeField dayField = iChronology.dayOfMonth();\n            int maxDay = dayField.getMaximumValue(result);\n            if (iChronology.dayOfMonth().get(result) > maxDay) {\n                result = dayField.set(result, maxDay);\n            }\n        } else if (fieldIndex == 1) { // Day\n            result = field.add(result, valueToAdd);\n            // Adjust day of month if necessary\n            DateTimeField monthField = iChronology.monthOfYear();\n            int maxDay = iChronology.dayOfMonth().getMaximumValue(result);\n            if (iChronology.dayOfMonth().get(result) > maxDay) {\n                result = monthField.add(result, 1);\n                result = iChronology.dayOfMonth().set(result, 1);\n            }\n        }\n        return result;\n    }\n\n    private DateTimeField getField(int fieldIndex) {\n        if (fieldIndex == 0) {\n            return iChronology.monthOfYear();\n        } else if (fieldIndex == 1) {\n            return iChronology.dayOfMonth();\n        }\n        throw new IllegalArgumentException(\"Unsupported field index: \" + fieldIndex);\n    }",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}