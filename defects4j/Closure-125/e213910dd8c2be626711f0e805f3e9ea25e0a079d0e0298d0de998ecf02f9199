{
    "generation": "/**\n * Visits a NEW node.\n */\nprivate void visitNew(NodeTraversal t, Node n) {\n    Node constructor = n.getFirstChild();\n    JSType type = getJSType(constructor).restrictByNotNullOrUndefined();\n    if (type.isConstructor() || type.isEmptyType() || type.isUnknownType()) {\n        FunctionType fnType = type.toMaybeFunctionType();\n        if (fnType!= null) {\n            visitParameterList(t, n, fnType);\n            ensureTyped(t, n, fnType.getInstanceType());\n        } else {\n            // If fnType is null and type is not a constructor, \n            // check if type has a constructor subtype\n            for (JSType subtype : type.getSubtypes()) {\n                if (subtype.isConstructor()) {\n                    FunctionType subtypeFnType = subtype.toMaybeFunctionType();\n                    visitParameterList(t, n, subtypeFnType);\n                    ensureTyped(t, n, subtypeFnType.getInstanceType());\n                    return;\n                }\n            }\n            ensureTyped(t, n);\n        }\n    } else {\n        report(t, n, NOT_A_CONSTRUCTOR);\n        ensureTyped(t, n);\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}