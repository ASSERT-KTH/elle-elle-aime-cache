{
    "generation": "private void decodeLocation(Position position, ByteBuf buf, int codec, String model) {\n\n    int globalMask = 0x0f;\n\n    if (buf.readableBytes() < 1) {\n        return;\n    }\n\n    if (codec == CODEC_GH3000) {\n\n        long time = buf.readUnsignedInt() & 0x3fffffff;\n        time += 1167609600; // 2007-01-01 00:00:00\n\n        if (buf.readableBytes() >= 1) {\n            globalMask = buf.readUnsignedByte();\n        }\n\n        if (BitUtil.check(globalMask, 0)) {\n\n            position.setTime(new Date(time * 1000));\n\n            if (buf.readableBytes() >= 1) {\n                int locationMask = buf.readUnsignedByte();\n\n                if (BitUtil.check(locationMask, 0) && buf.readableBytes() >= 8) {\n                    position.setLatitude(buf.readFloat());\n                    position.setLongitude(buf.readFloat());\n                }\n\n                if (BitUtil.check(locationMask, 1) && buf.readableBytes() >= 2) {\n                    position.setAltitude(buf.readUnsignedShort());\n                }\n\n                if (BitUtil.check(locationMask, 2) && buf.readableBytes() >= 1) {\n                    position.setCourse(buf.readUnsignedByte() * 360.0 / 256);\n                }\n\n                if (BitUtil.check(locationMask, 3) && buf.readableBytes() >= 1) {\n                    position.setSpeed(UnitsConverter.knotsFromKph(buf.readUnsignedByte()));\n                }\n\n                if (BitUtil.check(locationMask, 4) && buf.readableBytes() >= 1) {\n                    position.set(Position.KEY_SATELLITES, buf.readUnsignedByte());\n                }\n\n                if (BitUtil.check(locationMask, 5)) {\n                    if (buf.readableBytes() >= 4) {\n                        CellTower cellTower = CellTower.fromLacCid(\n                                getConfig(), buf.readUnsignedShort(), buf.readUnsignedShort());\n\n                        if (BitUtil.check(locationMask, 6) && buf.readableBytes() >= 1) {\n                            cellTower.setSignalStrength((int) buf.readUnsignedByte());\n                        }\n\n                        if (BitUtil.check(locationMask, 7) && buf.readableBytes() >= 4) {\n                            cellTower.setOperator(buf.readUnsignedInt());\n                        }\n\n                        position.setNetwork(new Network(cellTower));\n                    }\n                } else {\n                    if (BitUtil.check(locationMask, 6) && buf.readableBytes() >= 1) {\n                        position.set(Position.KEY_RSSI, buf.readUnsignedByte());\n                    }\n                    if (BitUtil.check(locationMask, 7) && buf.readableBytes() >= 4) {\n                        position.set(Position.KEY_OPERATOR, buf.readUnsignedInt());\n                    }\n                }\n\n            } else {\n\n                getLastLocation(position, new Date(time * 1000));\n\n            }\n\n        }\n\n    } else {\n\n        position.setTime(new Date(buf.readLong()));\n\n        if (buf.readableBytes() >= 1) {\n            position.set(\"priority\", buf.readUnsignedByte());\n        }\n\n        if (buf.readableBytes() >= 4) {\n            position.setLongitude(buf.readInt() / 10000000.0);\n        }\n        if (buf.readableBytes() >= 4) {\n            position.setLatitude(buf.readInt() / 10000000.0);\n        }\n        if (buf.readableBytes() >= 2) {\n            position.setAltitude(buf.readShort());\n        }\n        if (buf.readableBytes() >= 2) {\n            position.setCourse(buf.readUnsignedShort());\n        }\n\n        if (buf.readableBytes() >= 1) {\n            int satellites = buf.readUnsignedByte();\n            position.set(Position.KEY_SATELLITES, satellites);\n\n            position.setValid(satellites != 0);\n        }\n\n        if (buf.readableBytes() >= 2) {\n            position.setSpeed(UnitsConverter.knotsFromKph(buf.readUnsignedShort()));\n        }\n\n        if (buf.readableBytes() == 0) {\n            return;\n        }\n\n        int event = readExtByte(buf, codec, CODEC_8_EXT, CODEC_16);\n        if (event == -1) {\n            return;\n        }\n\n        position.set(Position.KEY_EVENT, event);\n        if (codec == CODEC_16 && buf.readableBytes() >= 1) {\n            buf.readUnsignedByte(); // generation type\n        }\n\n        int totalIoDataRecords = readExtByte(buf, codec, CODEC_8_EXT);\n        if (totalIoDataRecords == -1) {\n            return;\n        }\n\n    }\n\n    // Proceed with the rest of the function in the same manner, adding checks for available bytes\n    // ...\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": null,
    "test": false
}