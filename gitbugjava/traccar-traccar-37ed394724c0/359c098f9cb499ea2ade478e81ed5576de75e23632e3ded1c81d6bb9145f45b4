{
    "generation": "private Position decodeGps(Position position, ByteBuf buf, boolean hasAltitude, boolean hasSpeed, boolean hasCourse, TimeZone tz) {\n    int count = buf.readUnsignedMedium();\n    int index = 0;\n    DateBuilder dateBuilder = null;\n    if (isSigned(count)) {\n        dateBuilder = new DateBuilder(tz)\n               .setDate(buf.getUnsignedMedium(index), 0, 0);\n        index += 3;\n        count = buf.getUnsignedMedium(index) & 0x00ffffff;\n        index++;\n    }\n    if ((count & 0xf00) == 0xa000) {\n        DateBuilder dateBuilderAltitude = new DateBuilder()\n               .setDate(BcdUtil.readInteger(buf, 2), 0, 0)\n               .setTime(0, 0, 0);\n        lastLocation(position, dateBuilderAltitude.getDate());\n    } else {\n        switch (count & 0xf0) {\n            case 0x70:\n                dateBuilder.setTime(BcdUtil.readInteger(buf, 2, index), 0, 0);\n                break;\n            case 0x80:\n                dateBuilder.setTime(0, 0, BcdUtil.readInteger(buf, 2, index));\n                break;\n            case 0x90:\n                dateBuilder.setDate(0, 0, BcdUtil.readInteger(buf, 2, index));\n                break;\n            default:\n                dateBuilder.setDate(0, BcdUtil.readInteger(buf, 2, index), 0);\n                break;\n        }\n        index += 2;\n    }\n\n    position.setProtocol(name);\n    position.setDeviceId(getDeviceSession(getChannel(), remoteAddress, imei).getDeviceId());\n    position.setTime(dateBuilder.getDate());\n\n    position.setValid(true);\n    position.setLatitude(buf.getUnsignedMedium(index) + buf.getUnsignedMedium() * 0.00153);\n    position.setLongitude(buf.getUnsignedMedium(index + 2) + buf.getUnsignedMedium() * 0.00153);\n    int speed = buf.getUnsignedShort(index + 4);\n    if (BitUtil.check(speed, 14)) {\n        position.setSpeed(speed * 0.01);\n    }\n\n    if (hasSpeed) {\n        position.setSpeed(buf.getUnsignedShort(index + 6));\n    }\n\n    if (hasCourse) {\n        position.setCourse(buf.getUnsignedShort(index + 8));\n    }\n\n    if (hasAltitude) {\n        position.setAltitude(buf.getUnsignedShort(index + 10));\n    }\n\n    // Removed the line below:\n    // position.setGpsAccuracy(buf.getUnsignedShort(index + 14));\n\n    return position;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": null,
    "test": false
}