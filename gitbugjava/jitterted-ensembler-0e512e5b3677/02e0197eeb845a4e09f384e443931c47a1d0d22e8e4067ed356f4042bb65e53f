{
    "generation": "/**\n * Fixes the buggy function by correctly separating participants from spectators.\n * \n * @param ensemble       the ensemble to transform into a view\n * @param memberId       the ID of the member for whom the view is being generated\n * @param memberService  the service for retrieving member information\n * @return an EnsembleSummaryView with correctly separated participants and spectators\n */\npublic static EnsembleSummaryView toView(Ensemble ensemble, MemberId memberId, MemberService memberService) {\n    List<MemberView> participantViews = transform(memberService, ensemble.acceptedMembers());\n    List<MemberView> spectatorViews = transform(memberService, ensemble.spectatorMembers());\n    return new EnsembleSummaryView(ensemble.getId().id(),\n                                   ensemble.name(),\n                                   DateTimeFormatting.formatAsDateTimeForCommonIso8601(ensemble.startDateTime()),\n                                   ensemble.acceptedCount(),\n                                   participantViews,\n                                   spectatorViews, // Fix: Use spectatorViews instead of participantViews\n                                   memberStatusToViewString(ensemble, memberId),\n                                   ensemble.meetingLink().toString(),\n                                   new GoogleCalendarLinkCreator().createFor(ensemble),\n                                   ensemble.recordingLink().toString()\n    );\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": null,
    "test": false
}